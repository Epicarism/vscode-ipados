import SwiftUI

/// View menu commands for VSCode iPadOS
/// Provides access to UI visibility toggles, navigation, and zoom controls
struct ViewMenuCommands: Commands {
    // MARK: - Environment
    @FocusedValue(\.menuEditorCore) private var editorCore: EditorCore?
    
    // MARK: - Body
    var body: some Commands {
        CommandMenu("View") {
            // MARK: - Command Palette
            Button("Command Palette") {
                editorCore?.toggleCommandPalette()
            }
            .keyboardShortcut("p", modifiers: [.command, .shift])
            
            // MARK: - Quick Open
            Button("Go to File...") {
                editorCore.toggleQuickOpen()
            }
            .keyboardShortcut("p", modifiers: .command)
            
            Divider()
            
            // MARK: - Sidebar Toggles
            Button("Toggle Sidebar") {
                editorCore.toggleSidebar()
            }
            .keyboardShortcut("b", modifiers: .command)
            
            Button("Toggle Panel") {
                editorCore.togglePanel()
            }
            .keyboardShortcut("j", modifiers: .command)
            
            Button("Toggle Terminal") {
                editorCore.togglePanel()
            }
            .keyboardShortcut("`", modifiers: .command)
            
            Divider()
            
            // MARK: - Sidebar Views
            Button("Show Explorer") {
                editorCore.focusExplorer()
            }
            .keyboardShortcut("e", modifiers: [.command, .shift])
            
            Button("Show Search") {
                editorCore.toggleSearch()
            }
            .keyboardShortcut("f", modifiers: [.command, .shift])
            
            Button("Show Source Control") {
                editorCore.focusGit()
            }
            .keyboardShortcut("g", modifiers: [.control, .shift])
            
            Button("Show Extensions") {
                // TODO: Implement extensions focus
                editorCore.toggleSidebar()
            }
            .keyboardShortcut("x", modifiers: [.command, .shift])
            
            Divider()
            
            // MARK: - Zoom
            Button("Zoom In") {
                editorCore.zoomIn()
            }
            .keyboardShortcut("=", modifiers: .command)
            
            Button("Zoom Out") {
                editorCore.zoomOut()
            }
            .keyboardShortcut("-", modifiers: .command)
            
            Button("Reset Zoom") {
                editorCore.editorFontSize = 14.0
            }
            
            Divider()
            
            // MARK: - Appearance Modes
            Button("Toggle Zen Mode") {
                editorCore.toggleZenMode()
            }
            
            Button("Toggle Focus Mode") {
                editorCore.toggleFocusMode()
            }
        }
    }
}
