# Agent: settings-ui
**Status:** done
**Tokens:** 46,366
**Cost:** $0.0000
**Time:** 2026-02-09T10:31:41.991Z

## Task
Build Settings UI. Update Views/Panels/SettingsView.swift:

1. Search settings
2. Categories: Editor, Workbench, Features
3. Font size, family settings
4. Tab size setting
5. Word wrap toggle
6. Auto save options
7. Minimap toggle
8. Line numbers options
9. Theme selector with preview

Like VS Code settings page.

## Response
>>>TOOL list_dir
{"path": "."}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Models"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Models/Theme.swift"}
>>>END
>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Models/ThemeManager.swift"}
>>>END

>>>TOOL find_references
{"path": "VSCodeiPadOS/VSCodeiPadOS/Models/ThemeManager.swift", "line": 3}
>>>END

>>>TOOL search
{"query": "ThemeManager"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/ContentView.swift"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Editor/EditorView.swift"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Editor"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Editor/SyntaxHighlightingTextView.swift"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/CodeEditorView.swift"}
>>>END

>>>TOOL search
{"query": "CodeEditorView"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift"}
>>>END

>>>TOOL search
{"query": "@AppStorage(\"fontSize\")"}
>>>END
>>>TOOL search
{"query": "@AppStorage(\"showLineNumbers\")"}
>>>END
>>>TOOL search
{"query": "@AppStorage(\"wordWrap\")"}
>>>END

>>>TOOL search
{"query": "fontSize"}
>>>END

>>>TOOL list_dir
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift"}
>>>END

>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift"}
>>>END
>>>TOOL read_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Models/ThemeManager.swift"}
>>>END

>>>TOOL create_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift", "content": "import SwiftUI\n\nstruct SettingsView: View {\n    @State private var searchText = \"\"\n    @State private var selectedCategory: SettingsCategory? = .editor\n    @State private var columnVisibility = NavigationSplitViewVisibility.doubleColumn\n    \n    enum SettingsCategory: String, CaseIterable, Identifiable {\n        case editor = \"Editor\"\n        case workbench = \"Workbench\"\n        case features = \"Features\"\n        \n        var id: String { rawValue }\n        var icon: String {\n            switch self {\n            case .editor: return \"text.cursor\"\n            case .workbench: return \"sidebar.left\"\n            case .features: return \"star\"\n            }\n        }\n    }\n    \n    var body: some View {\n        if #available(iOS 16.0, *) {\n            NavigationSplitView(columnVisibility: $columnVisibility) {\n                List(SettingsCategory.allCases, selection: $selectedCategory) {\n                    category in\n                    NavigationLink(value: category) {\n                        Label(category.rawValue, systemImage: category.icon)\n                    }\n                }\n                .navigationTitle(\"Settings\")\n                .listStyle(.sidebar)\n            } detail: {\n                if let category = selectedCategory {\n                    SettingsDetailView(category: category, searchText: searchText)\n                } else {\n                    Text(\"Select a category\")\n                        .foregroundColor(.secondary)\n                }\n            }\n            .searchable(text: $searchText, placement: .sidebar)\n        } else {\n            NavigationView {\n                List(SettingsCategory.allCases, selection: $selectedCategory) {\n                    category in\n                    NavigationLink(\n                        destination: SettingsDetailView(category: category, searchText: searchText),\n                        tag: category,\n                        selection: $selectedCategory\n                    ) {\n                        Label(category.rawValue, systemImage: category.icon)\n                    }\n                }\n                .navigationTitle(\"Settings\")\n                .listStyle(SidebarListStyle())\n                \n                // Initial detail view\n                SettingsDetailView(category: .editor, searchText: searchText)\n            }\n            .searchable(text: $searchText)\n        }\n    }\n}\n\nstruct SettingsDetailView: View {\n    let category: SettingsView.SettingsCategory\n    let searchText: String\n    \n    @AppStorage(\"fontSize\") private var fontSize: Double = 14\n    @AppStorage(\"fontFamily\") private var fontFamily: String = \"Menlo\"\n    @AppStorage(\"tabSize\") private var tabSize: Int = 4\n    @AppStorage(\"wordWrap\") private var wordWrap: Bool = true\n    @AppStorage(\"autoSave\") private var autoSave: String = \"off\"\n    @AppStorage(\"minimapEnabled\") private var minimapEnabled: Bool = true\n    @AppStorage(\"showLineNumbers\") private var showLineNumbers: Bool = true\n    @AppStorage(\"lineNumbersStyle\") private var lineNumbersStyle: String = \"on\"\n    \n    @ObservedObject private var themeManager = ThemeManager.shared\n    \n    var body: some View {\n        Form {\n            if shouldShow(category: .editor) {\n                Section(header: Text(\"Editor\")) {\n                    if matchesSearch(\"Font Size\") {\n                        VStack(alignment: .leading) {\n                            Text(\"Font Size: \\(Int(fontSize))\")\n                            Slider(value: $fontSize, in: 8...32, step: 1) {\n                                Text(\"Font Size\")\n                            } minimumValueLabel: {\n                                Text(\"8\")\n                            } maximumValueLabel: {\n                                Text(\"32\")\n                            }\n                        }\n                    }\n                    \n                    if matchesSearch(\"Font Family\") {\n                        Picker(\"Font Family\", selection: $fontFamily) {\n                            Text(\"Menlo\").tag(\"Menlo\")\n                            Text(\"Courier New\").tag(\"Courier New\")\n                            Text(\"SF Mono\").tag(\"SF Mono\")\n                            Text(\"Fira Code\").tag(\"Fira Code\")\n                            Text(\"JetBrains Mono\").tag(\"JetBrains Mono\")\n                        }\n                    }\n                    \n                    if matchesSearch(\"Tab Size\") {\n                        Stepper(\"Tab Size: \\(tabSize)\", value: $tabSize, in: 1...8)\n                    }\n                    \n                    if matchesSearch(\"Word Wrap\") {\n                        Toggle(\"Word Wrap\", isOn: $wordWrap)\n                    }\n                    \n                    if matchesSearch(\"Minimap\") {\n                        Toggle(\"Minimap\", isOn: $minimapEnabled)\n                    }\n                    \n                    if matchesSearch(\"Line Numbers\") {\n                        Picker(\"Line Numbers\", selection: $lineNumbersStyle) {\n                            Text(\"On\").tag(\"on\")\n                            Text(\"Off\").tag(\"off\")\n                            Text(\"Relative\").tag(\"relative\")\n                            Text(\"Interval\").tag(\"interval\")\n                        }\n                        // Sync with boolean for backward compatibility\n                        .onChange(of: lineNumbersStyle) { newValue in\n                            showLineNumbers = (newValue != \"off\")\n                        }\n                    }\n                }\n            }\n            \n            if shouldShow(category: .workbench) {\n                Section(header: Text(\"Workbench\")) {\n                    if matchesSearch(\"Theme\") {\n                        VStack(alignment: .leading, spacing: 10) {\n                            Picker(\"Color Theme\", selection: Binding(\n                                get: { themeManager.selectedThemeId },\n                                set: { themeManager.switchTheme(to: $0) }\n                            )) {\n                                ForEach(Theme.allThemes) { theme in\n                                    Text(theme.name).tag(theme.id)\n                                }\n                            }\n                            \n                            // Theme Preview\n                            ThemePreviewView(theme: themeManager.currentTheme)\n                                .frame(height: 120)\n                                .clipShape(RoundedRectangle(cornerRadius: 12))\n                                .overlay(\n                                    RoundedRectangle(cornerRadius: 12)\n                                        .stroke(Color.gray.opacity(0.3), lineWidth: 1)\n                                )\n                        }\n                        .padding(.vertical, 8)\n                    }\n                }\n            }\n            \n            if shouldShow(category: .features) {\n                Section(header: Text(\"Features\")) {\n                    if matchesSearch(\"Auto Save\") {\n                        Picker(\"Auto Save\", selection: $autoSave) {\n                            Text(\"Off\").tag(\"off\")\n                            Text(\"After Delay\").tag(\"afterDelay\")\n                            Text(\"On Focus Change\").tag(\"onFocusChange\")\n                            Text(\"On Window Change\").tag(\"onWindowChange\")\n                        }\n                    }\n                }\n            }\n        }\n        .navigationTitle(searchText.isEmpty ? category.rawValue : \"Search Results\")\n    }\n    \n    private func shouldShow(category: SettingsView.SettingsCategory) -> Bool {\n        if !searchText.isEmpty {\n            // If searching, show sections that have matching items\n            if category == .editor {\n                return matchesSearch(\"Font Size\") || matchesSearch(\"Font Family\") || matchesSearch(\"Tab Size\") || matchesSearch(\"Word Wrap\") || matchesSearch(\"Minimap\") || matchesSearch(\"Line Numbers\")\n            }\n            if category == .workbench {\n                return matchesSearch(\"Theme\")\n            }\n            if category == .features {\n                return matchesSearch(\"Auto Save\")\n            }\n        }\n        return self.category == category\n    }\n    \n    private func matchesSearch(_ item: String) -> Bool {\n        searchText.isEmpty || item.localizedCaseInsensitiveContains(searchText)\n    }\n}\n\nstruct ThemePreviewView: View {\n    let theme: Theme\n    \n    var body: some View {\n        HStack(spacing: 0) {\n            // Activity Bar\n            Rectangle()\n                .fill(theme.activityBarBackground)\n                .frame(width: 40)\n                .overlay(\n                    VStack(spacing: 15) {\n                        Image(systemName: \"doc.on.doc\")\n                        Image(systemName: \"magnifyingglass\")\n                        Image(systemName: \"gearshape\")\n                        Spacer()\n                    }\n                    .foregroundColor(theme.activityBarForeground)\n                    .padding(.top, 20)\n                )\n            \n            // Sidebar\n            Rectangle()\n                .fill(theme.sidebarBackground)\n                .frame(width: 80)\n                .overlay(\n                    VStack(alignment: .leading, spacing: 8) {\n                        Text(\"EXPLORER\")\n                            .font(.caption2)\n                            .fontWeight(.bold)\n                            .foregroundColor(theme.sidebarForeground.opacity(0.7))\n                            .padding(.top, 10)\n                            .padding(.leading, 8)\n                        \n                        VStack(alignment: .leading, spacing: 4) {\n                            HStack(spacing: 4) {\n                                Image(systemName: \"chevron.right\")\n                                    .font(.caption2)\n                                Text(\"Project\")\n                                    .font(.caption)\n                            }\n                            .foregroundColor(theme.sidebarForeground)\n                            \n                            HStack(spacing: 4) {\n                                Image(systemName: \"swift\")\n                                    .font(.caption2)\n                                Text(\"App.swift\")\n                                    .font(.caption)\n                            }\n                            .foregroundColor(theme.sidebarForeground)\n                            .padding(.leading, 12)\n                        }\n                        .padding(.leading, 8)\n                        \n                        Spacer()\n                    }\n                )\n            \n            // Editor\n            Rectangle()\n                .fill(theme.editorBackground)\n                .overlay(\n                    VStack(alignment: .leading, spacing: 0) {\n                        // Tabs\n                        HStack(spacing: 0) {\n                            Rectangle()\n                                .fill(theme.tabActiveBackground)\n                                .frame(width: 80, height: 25)\n                                .overlay(\n                                    HStack(spacing: 4) {\n                                        Image(systemName: \"swift\")\n                                            .font(.caption2)\n                                            .foregroundColor(theme.tabActiveForeground)\n                                        Text(\"App.swift\")\n                                            .font(.caption2)\n                                            .foregroundColor(theme.tabActiveForeground)\n                                    }\n                                )\n                            Rectangle()\n                                .fill(theme.tabBarBackground)\n                        }\n                        .frame(height: 25)\n                        \n                        // Content\n                        VStack(alignment: .leading, spacing: 4) {\n                            HStack(spacing: 0) {\n                                Text(\"1\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumber)\n                                    .frame(width: 20)\n                                Text(\"import\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.keyword)\n                                Text(\" SwiftUI\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                            }\n                            \n                            HStack(spacing: 0) {\n                                Text(\"2\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumber)\n                                    .frame(width: 20)\n                            }\n                            \n                            HStack(spacing: 0) {\n                                Text(\"3\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumberActive)\n                                    .frame(width: 20)\n                                Text(\"struct\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.keyword)\n                                Text(\" App\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.type)\n                                Text(\": \")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                                Text(\"View\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.type)\n                                Text(\" {\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                            }\n                            \n                            Spacer()\n                        }\n                        .padding(4)\n                    }\n                )\n        }\n    }\n}\n\n#Preview {\n    SettingsView()\n}"}
>>>END

>>>TOOL create_file
{"path": "VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift", "content": "import SwiftUI\n\nstruct SettingsView: View {\n    @State private var searchText = \"\"\n    @State private var selectedCategory: SettingsCategory? = .editor\n    @State private var columnVisibility = NavigationSplitViewVisibility.doubleColumn\n    \n    enum SettingsCategory: String, CaseIterable, Identifiable {\n        case editor = \"Editor\"\n        case workbench = \"Workbench\"\n        case features = \"Features\"\n        \n        var id: String { rawValue }\n        var icon: String {\n            switch self {\n            case .editor: return \"text.cursor\"\n            case .workbench: return \"sidebar.left\"\n            case .features: return \"star\"\n            }\n        }\n    }\n    \n    var body: some View {\n        if #available(iOS 16.0, *) {\n            NavigationSplitView(columnVisibility: $columnVisibility) {\n                List(SettingsCategory.allCases, selection: $selectedCategory) {\n                    category in\n                    NavigationLink(value: category) {\n                        Label(category.rawValue, systemImage: category.icon)\n                    }\n                }\n                .navigationTitle(\"Settings\")\n                .listStyle(.sidebar)\n            } detail: {\n                if let category = selectedCategory {\n                    SettingsDetailView(category: category, searchText: searchText)\n                } else {\n                    Text(\"Select a category\")\n                        .foregroundColor(.secondary)\n                }\n            }\n            .searchable(text: $searchText, placement: .sidebar)\n        } else {\n            NavigationView {\n                List(SettingsCategory.allCases, selection: $selectedCategory) {\n                    category in\n                    NavigationLink(\n                        destination: SettingsDetailView(category: category, searchText: searchText),\n                        tag: category,\n                        selection: $selectedCategory\n                    ) {\n                        Label(category.rawValue, systemImage: category.icon)\n                    }\n                }\n                .navigationTitle(\"Settings\")\n                .listStyle(SidebarListStyle())\n                \n                // Initial detail view\n                SettingsDetailView(category: .editor, searchText: searchText)\n            }\n            .searchable(text: $searchText)\n        }\n    }\n}\n\nstruct SettingsDetailView: View {\n    let category: SettingsView.SettingsCategory\n    let searchText: String\n    \n    @AppStorage(\"fontSize\") private var fontSize: Double = 14\n    @AppStorage(\"fontFamily\") private var fontFamily: String = \"Menlo\"\n    @AppStorage(\"tabSize\") private var tabSize: Int = 4\n    @AppStorage(\"wordWrap\") private var wordWrap: Bool = true\n    @AppStorage(\"autoSave\") private var autoSave: String = \"off\"\n    @AppStorage(\"minimapEnabled\") private var minimapEnabled: Bool = true\n    @AppStorage(\"showLineNumbers\") private var showLineNumbers: Bool = true\n    @AppStorage(\"lineNumbersStyle\") private var lineNumbersStyle: String = \"on\"\n    \n    @ObservedObject private var themeManager = ThemeManager.shared\n    \n    var body: some View {\n        Form {\n            if shouldShow(category: .editor) {\n                Section(header: Text(\"Editor\")) {\n                    if matchesSearch(\"Font Size\") {\n                        VStack(alignment: .leading) {\n                            Text(\"Font Size: \\(Int(fontSize))\")\n                            Slider(value: $fontSize, in: 8...32, step: 1) {\n                                Text(\"Font Size\")\n                            } minimumValueLabel: {\n                                Text(\"8\")\n                            } maximumValueLabel: {\n                                Text(\"32\")\n                            }\n                        }\n                    }\n                    \n                    if matchesSearch(\"Font Family\") {\n                        Picker(\"Font Family\", selection: $fontFamily) {\n                            Text(\"Menlo\").tag(\"Menlo\")\n                            Text(\"Courier New\").tag(\"Courier New\")\n                            Text(\"SF Mono\").tag(\"SF Mono\")\n                            Text(\"Fira Code\").tag(\"Fira Code\")\n                            Text(\"JetBrains Mono\").tag(\"JetBrains Mono\")\n                        }\n                    }\n                    \n                    if matchesSearch(\"Tab Size\") {\n                        Stepper(\"Tab Size: \\(tabSize)\", value: $tabSize, in: 1...8)\n                    }\n                    \n                    if matchesSearch(\"Word Wrap\") {\n                        Toggle(\"Word Wrap\", isOn: $wordWrap)\n                    }\n                    \n                    if matchesSearch(\"Minimap\") {\n                        Toggle(\"Minimap\", isOn: $minimapEnabled)\n                    }\n                    \n                    if matchesSearch(\"Line Numbers\") {\n                        Picker(\"Line Numbers\", selection: $lineNumbersStyle) {\n                            Text(\"On\").tag(\"on\")\n                            Text(\"Off\").tag(\"off\")\n                            Text(\"Relative\").tag(\"relative\")\n                            Text(\"Interval\").tag(\"interval\")\n                        }\n                        // Sync with boolean for backward compatibility\n                        .onChange(of: lineNumbersStyle) { newValue in\n                            showLineNumbers = (newValue != \"off\")\n                        }\n                    }\n                }\n            }\n            \n            if shouldShow(category: .workbench) {\n                Section(header: Text(\"Workbench\")) {\n                    if matchesSearch(\"Theme\") {\n                        VStack(alignment: .leading, spacing: 10) {\n                            Picker(\"Color Theme\", selection: Binding(\n                                get: { themeManager.selectedThemeId },\n                                set: { themeManager.switchTheme(to: $0) }\n                            )) {\n                                ForEach(Theme.allThemes) { theme in\n                                    Text(theme.name).tag(theme.id)\n                                }\n                            }\n                            \n                            // Theme Preview\n                            ThemePreviewView(theme: themeManager.currentTheme)\n                                .frame(height: 120)\n                                .clipShape(RoundedRectangle(cornerRadius: 12))\n                                .overlay(\n                                    RoundedRectangle(cornerRadius: 12)\n                                        .stroke(Color.gray.opacity(0.3), lineWidth: 1)\n                                )\n                        }\n                        .padding(.vertical, 8)\n                    }\n                }\n            }\n            \n            if shouldShow(category: .features) {\n                Section(header: Text(\"Features\")) {\n                    if matchesSearch(\"Auto Save\") {\n                        Picker(\"Auto Save\", selection: $autoSave) {\n                            Text(\"Off\").tag(\"off\")\n                            Text(\"After Delay\").tag(\"afterDelay\")\n                            Text(\"On Focus Change\").tag(\"onFocusChange\")\n                            Text(\"On Window Change\").tag(\"onWindowChange\")\n                        }\n                    }\n                }\n            }\n        }\n        .navigationTitle(searchText.isEmpty ? category.rawValue : \"Search Results\")\n    }\n    \n    private func shouldShow(category: SettingsView.SettingsCategory) -> Bool {\n        if !searchText.isEmpty {\n            if category == .editor {\n                return matchesSearch(\"Font Size\") || matchesSearch(\"Font Family\") || matchesSearch(\"Tab Size\") || matchesSearch(\"Word Wrap\") || matchesSearch(\"Minimap\") || matchesSearch(\"Line Numbers\")\n            }\n            if category == .workbench {\n                return matchesSearch(\"Theme\")\n            }\n            if category == .features {\n                return matchesSearch(\"Auto Save\")\n            }\n        }\n        return self.category == category\n    }\n    \n    private func matchesSearch(_ item: String) -> Bool {\n        searchText.isEmpty || item.localizedCaseInsensitiveContains(searchText)\n    }\n}\n\nstruct ThemePreviewView: View {\n    let theme: Theme\n    \n    var body: some View {\n        HStack(spacing: 0) {\n            // Activity Bar\n            Rectangle()\n                .fill(theme.activityBarBackground)\n                .frame(width: 40)\n                .overlay(\n                    VStack(spacing: 15) {\n                        Image(systemName: \"doc.on.doc\")\n                        Image(systemName: \"magnifyingglass\")\n                        Image(systemName: \"gearshape\")\n                        Spacer()\n                    }\n                    .foregroundColor(theme.activityBarForeground)\n                    .padding(.top, 20)\n                )\n            \n            // Sidebar\n            Rectangle()\n                .fill(theme.sidebarBackground)\n                .frame(width: 80)\n                .overlay(\n                    VStack(alignment: .leading, spacing: 8) {\n                        Text(\"EXPLORER\")\n                            .font(.caption2)\n                            .fontWeight(.bold)\n                            .foregroundColor(theme.sidebarForeground.opacity(0.7))\n                            .padding(.top, 10)\n                            .padding(.leading, 8)\n                        \n                        VStack(alignment: .leading, spacing: 4) {\n                            HStack(spacing: 4) {\n                                Image(systemName: \"chevron.right\")\n                                    .font(.caption2)\n                                Text(\"Project\")\n                                    .font(.caption)\n                            }\n                            .foregroundColor(theme.sidebarForeground)\n                            \n                            HStack(spacing: 4) {\n                                Image(systemName: \"swift\")\n                                    .font(.caption2)\n                                Text(\"App.swift\")\n                                    .font(.caption)\n                            }\n                            .foregroundColor(theme.sidebarForeground)\n                            .padding(.leading, 12)\n                        }\n                        .padding(.leading, 8)\n                        \n                        Spacer()\n                    }\n                )\n            \n            // Editor\n            Rectangle()\n                .fill(theme.editorBackground)\n                .overlay(\n                    VStack(alignment: .leading, spacing: 0) {\n                        // Tabs\n                        HStack(spacing: 0) {\n                            Rectangle()\n                                .fill(theme.tabActiveBackground)\n                                .frame(width: 80, height: 25)\n                                .overlay(\n                                    HStack(spacing: 4) {\n                                        Image(systemName: \"swift\")\n                                            .font(.caption2)\n                                            .foregroundColor(theme.tabActiveForeground)\n                                        Text(\"App.swift\")\n                                            .font(.caption2)\n                                            .foregroundColor(theme.tabActiveForeground)\n                                    }\n                                )\n                            Rectangle()\n                                .fill(theme.tabBarBackground)\n                        }\n                        .frame(height: 25)\n                        \n                        // Content\n                        VStack(alignment: .leading, spacing: 4) {\n                            HStack(spacing: 0) {\n                                Text(\"1\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumber)\n                                    .frame(width: 20)\n                                Text(\"import\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.keyword)\n                                Text(\" SwiftUI\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                            }\n                            \n                            HStack(spacing: 0) {\n                                Text(\"2\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumber)\n                                    .frame(width: 20)\n                            }\n                            \n                            HStack(spacing: 0) {\n                                Text(\"3\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.lineNumberActive)\n                                    .frame(width: 20)\n                                Text(\"struct\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.keyword)\n                                Text(\" App\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.type)\n                                Text(\": \")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                                Text(\"View\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.type)\n                                Text(\" {\")\n                                    .font(.caption2)\n                                    .foregroundColor(theme.editorForeground)\n                            }\n                            \n                            Spacer()\n                        }\n                        .padding(4)\n                    }\n                )\n        }\n    }\n}\n\n#Preview {\n    SettingsView()\n}", "overwrite": true}
>>>END

>>>REPORT
I have updated `VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift` to include a full settings UI similar to VS Code.

**Features Implemented:**
1.  **Search Settings**: Added a search bar using `.searchable` which filters visible settings sections.
2.  **Categories**: Implemented `NavigationSplitView` (or `NavigationView` fallback) with categories: **Editor**, **Workbench**, **Features**.
3.  **Font Settings**: Added slider for `Font Size` (8-32) and picker for `Font Family` (Menlo, Courier New, SF Mono, Fira Code, JetBrains Mono).
4.  **Tab Size**: Added `Stepper` for tab size (1-8).
5.  **Word Wrap**: Added toggle for word wrap.
6.  **Auto Save**: Added picker for auto save options (Off, After Delay, On Focus Change, On Window Change).
7.  **Minimap**: Added toggle for minimap visibility.
8.  **Line Numbers**: Added picker for line number styles (On, Off, Relative, Interval) and synchronized it with the legacy boolean setting.
9.  **Theme Selector with Preview**: Added a theme picker connected to `ThemeManager` and a custom `ThemePreviewView` that renders a mini representation of the selected theme (Activity Bar, Sidebar, Editor with syntax highlighting colors).

**File Updated:**
-   `VSCodeiPadOS/VSCodeiPadOS/Views/Panels/SettingsView.swift`: Replaced simple form with categorized, searchable settings UI.

**Verification:**
-   Used `read_file` to inspect existing `SettingsView.swift` and `ThemeManager.swift` to ensure compatibility with existing AppStorage keys and Theme models.
-   Used `create_file` with `overwrite: true` to apply the new UI code.
-   The new UI supports iOS 16+ `NavigationSplitView` and falls back to `NavigationView` for older versions.
>>>END
